


**Ghi chú học tập: Xây dựng ứng dụng React đầu tiên**

Dưới đây là tóm tắt nội dung từ bài giảng “Khóa học React Tối ưu 2025: React, Next.js, Redux & More”, tập trung vào việc xây dựng một ứng dụng React nhỏ sử dụng CodeSandbox. Ghi chú được tổ chức rõ ràng, súc tích, phù hợp để lưu trữ và tra cứu trong Obsidian.

---

### 1. Mục tiêu
- Xây dựng ứng dụng React đầu tiên mà không cần thiết lập môi trường phát triển.
- Làm quen với các thành phần cơ bản của React: **component**, **JSX**, **state**, **effect**, và **props**.
- Ứng dụng mẫu: Một ứng dụng nhỏ lấy lời khuyên (advice) từ API và hiển thị trên giao diện.

---

### 2. Bắt đầu với CodeSandbox
- Truy cập: Mở trình duyệt và nhập **react.new** để tạo một dự án React trên **CodeSandbox**.
- Giao diện CodeSandbox:
  - **Bên trái**: Cây thư mục chứa các file như `index.js`, `App.js`.
  - **Giữa**: Trình chỉnh sửa mã (code editor) giống VS Code.
  - **Bên phải**: Kết quả hiển thị và console.
- CodeSandbox tích hợp **Prettier** để tự động định dạng mã.

**Hành động ban đầu**:
- Xóa file `styles.css` (không sử dụng trong bài này).
- Mở file `App.js` và xóa toàn bộ nội dung để bắt đầu từ đầu.

---

### 3. Xây dựng Component đầu tiên
- **Component**: Một hàm JavaScript trả về **JSX** (cú pháp giống HTML, mô tả giao diện người dùng).
- Tạo component `App`:
  ```javascript
  function App() {
    return (
      <div>
        <h1>Hello World!</h1>
        <button>Get advice</button>
      </div>
    );
  }
  export default App;
  ```
- **Lưu ý**:
  - `export default App` để `index.js` có thể nhập và sử dụng component.
  - Lưu file và làm mới trình duyệt để thấy kết quả: tiêu đề "Hello World!" và nút "Get advice".

---

### 4. Tích hợp API để lấy lời khuyên
- Mục tiêu: Khi nhấn nút "Get advice", ứng dụng sẽ lấy dữ liệu từ API (**https://api.adviceslip.com/advice**) và hiển thị.
- Tạo hàm `getAdvice` trong component `App`:
  ```javascript
  async function getAdvice() {
    const response = await fetch('https://api.adviceslip.com/advice');
    const data = await response.json();
    console.log(data.slip.advice); // Lấy lời khuyên từ data.slip.advice
  }
  ```
- Gắn sự kiện **onClick** vào nút:
  ```javascript
  <button onClick={getAdvice}>Get advice</button>
  ```
- **Kết quả**: Nhấn nút sẽ lấy và hiển thị lời khuyên trong console.

---

### 5. Quản lý trạng thái với useState
- **State (trạng thái)**: Cơ chế để cập nhật giao diện khi dữ liệu thay đổi.
- Tạo state để lưu lời khuyên:
  ```javascript
  import { useState } from 'react';

  function App() {
    const [advice, setAdvice] = useState('');
    
    async function getAdvice() {
      const response = await fetch('https://api.adviceslip.com/advice');
      const data = await response.json();
      setAdvice(data.slip.advice); // Cập nhật state
    }

    return (
      <div>
        <h1>Hello World!</h1>
        <p>{advice}</p> {/* Hiển thị lời khuyên */}
        <button onClick={getAdvice}>Get advice</button>
      </div>
    );
  }
  export default App;
  ```
- **Giải thích**:
  - `useState('')` trả về mảng `[giá trị, hàm cập nhật]`, được giải nén thành `advice` và `setAdvice`.
  - Khi `setAdvice` được gọi, giao diện tự động cập nhật với giá trị mới của `advice`.

---

### 6. Đếm số lần lấy lời khuyên
- Tạo state để đếm số lần nhấn nút:
  ```javascript
  const [count, setCount] = useState(0);
  ```
- Cập nhật `getAdvice` để tăng `count`:
  ```javascript
  async function getAdvice() {
    const response = await fetch('https://api.adviceslip.com/advice');
    const data = await response.json();
    setAdvice(data.slip.advice);
    setCount(count => count + 1); // Tăng count
  }
  ```
- Hiển thị số lần:
  ```javascript
  <p>Bạn đã đọc <strong>{count}</strong> lời khuyên.</p>
  ```

---

### 7. Tự động lấy lời khuyên khi tải ứng dụng
- Sử dụng **useEffect** để gọi `getAdvice` khi component được tải lần đầu:
  ```javascript
  import { useEffect } from 'react';

  useEffect(() => {
    getAdvice();
  }, []); // Mảng rỗng đảm bảo chỉ chạy một lần khi tải
  ```
- **Lưu ý**:
  - **Mảng phụ thuộc (dependency array)** `[]` ngăn `useEffect` chạy lặp vô hạn.
  - Ở chế độ phát triển (development mode), `useEffect` có thể chạy hai lần do **Strict Mode**.

---

### 8. Tạo Component riêng cho thông báo
- Tách đoạn văn hiển thị số lần đọc thành component `Message`:
  ```javascript
  function Message(props) {
    return (
      <p>Bạn đã đọc <strong>{props.count}</strong> lời khuyên.</p>
    );
  }
  ```
- Sử dụng `Message` trong `App`:
  ```javascript
  function App() {
    const [advice, setAdvice] = useState('');
    const [count, setCount] = useState(0);

    async function getAdvice() {
      const response = await fetch('https://api.adviceslip.com/advice');
      const data = await response.json();
      setAdvice(data.slip.advice);
      setCount(count => count + 1);
    }

    useEffect(() => {
      getAdvice();
    }, []);

    return (
      <div>
        <h1>Hello World!</h1>
        <p>{advice}</p>
        <Message count={count} />
        <button onClick={getAdvice}>Get advice</button>
      </div>
    );
  }
  ```
- **Props**: Truyền giá trị `count` vào `Message` như một tham số, truy cập qua `props.count`.
- **Quy ước**: Tên component phải viết hoa (VD: `Message`, `App`).

---

### 9. Tổng kết
- Ứng dụng đã hoàn thiện với các tính năng:
  - Lấy và hiển thị lời khuyên từ API.
  - Đếm số lần lấy lời khuyên.
  - Tự động lấy lời khuyên khi tải ứng dụng.
  - Sử dụng component riêng để hiển thị thông báo.
- Các khái niệm cốt lõi của React đã được giới thiệu:
  - **Component**: Hàm trả về JSX.
  - **JSX**: Cú pháp giống HTML, hỗ trợ chèn JavaScript.
  - **State**: Quản lý dữ liệu động với `useState`.
  - **Effect**: Thực thi tác vụ khi component tải với `useEffect`.
  - **Props**: Truyền dữ liệu giữa các component.

---

### 10. Lưu ý
- Nếu gặp lỗi, tham khảo CodeSandbox mẫu được cung cấp trong bài giảng.
- Các khái niệm sẽ được giải thích chi tiết hơn trong các phần sau của khóa học.

---

**Ghi chú bổ sung**:
- File này có thể được lưu trong Obsidian với các thẻ như `#React #CodeSandbox #State #Effect #Props` để dễ tra cứu.
- Để quên hoặc chỉnh sửa lịch sử trò chuyện, vào biểu tượng cuốn sách dưới tin nhắn trong giao diện hoặc tắt tính năng bộ nhớ trong phần "Data Controls" của cài đặt.

--- 

Ghi chú được tối ưu để dễ đọc, tìm kiếm và ôn tập, tập trung vào các điểm cốt lõi của bài giảng.