## Bài học: Tạo Model và Tự động Tạo Bảng trong Entity Framework Core

### Khái niệm cơ bản
- Trong phát triển web với **Entity Framework Core** (Khung thực thể cốt lõi) và **MVC** (Mô hình–Điều khiển–Hiển thị), dữ liệu được lưu trữ trong cơ sở dữ liệu (database) dưới dạng các bảng (tables).
- Thay vì tạo bảng trực tiếp trong cơ sở dữ liệu, chúng ta tạo **model** (mô hình) trong dự án, và Entity Framework Core sẽ tự động tạo bảng dựa trên các model này.
- **Model**: Là một lớp (class) trong dự án, đại diện cho một bảng trong cơ sở dữ liệu. Các thuộc tính (properties) trong model tương ứng với các cột (columns) của bảng.

### Quy trình tạo Model
- **Vị trí lưu model**:
  - Thông thường, các model được đặt trong thư mục `Models` trong dự án.
  - Không bắt buộc phải đặt trong thư mục `Models`. Tên thư mục này có thể thay đổi, không giống như thư mục `Controllers` hoặc `Views` (phải giữ nguyên tên).
- **Ví dụ tạo model**:
  - Tạo một lớp mới trong thư mục `Models` (ví dụ: `Category.cs`).
  - Lớp này sẽ định nghĩa các thuộc tính tương ứng với các cột trong bảng `Category` trong cơ sở dữ liệu.

### Ví dụ: Tạo lớp Category
1. **Tạo lớp Category**:
   - Tạo file `Category.cs` trong thư mục `Models`.
   - Thêm các thuộc tính (properties) cho lớp `Category`:
     - `Id`: Kiểu `int`, đại diện cho khóa chính (primary key) của bảng.
     - `Name`: Kiểu `string`, lưu tên của danh mục (category).
     - `DisplayOrder`: Kiểu `int`, xác định thứ tự hiển thị của danh mục trên giao diện.

   ```csharp
   public class Category
   {
       public int Id { get; set; }
       public string Name { get; set; }
       public int DisplayOrder { get; set; }
   }
   ```

2. **Giải thích**:
   - Mỗi thuộc tính trong lớp `Category` sẽ ánh xạ thành một cột trong bảng `Category` trong cơ sở dữ liệu.
   - `Id` sẽ là khóa chính (primary key) của bảng.
   - Entity Framework Core tự động ánh xạ các thuộc tính này thành các cột dựa trên cấu trúc của model.

### Sử dụng Data Annotation
- Để chỉ định rõ ràng rằng một thuộc tính là khóa chính hoặc có các ràng buộc khác, chúng ta sử dụng **Data Annotation** (Chú thích dữ liệu).
- Ví dụ: Đánh dấu `Id` là khóa chính sẽ được giải thích chi tiết trong các bài học tiếp theo.

### Ghi chú thêm
- Hiện tại, không cần lo lắng về cách Entity Framework Core ánh xạ model thành bảng trong cơ sở dữ liệu. Quy trình này sẽ được giải thích rõ hơn trong các bài tiếp theo.
- **Mẹo viết code nhanh**: Sử dụng snippet `prop` trong Visual Studio, nhấn `Tab` hai lần để tạo nhanh một thuộc tính với cú pháp chuẩn.

### Liên kết nội bộ
- [[Entity Framework Core]]
- [[Model trong MVC]]
- [[Data Annotation]]
- [[Khóa chính (Primary Key)]]