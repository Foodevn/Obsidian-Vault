## Tạo Trang Danh Mục Mới (Creating a New Category Page)

### Mục tiêu
- Tạo một trang mới để thêm danh mục (category) trong ứng dụng.
- Sử dụng mô hình điều khiển–hiển thị (Model–View–Controller) để xử lý logic và giao diện.
- Đảm bảo giao diện người dùng (UI) thân thiện, đáp ứng (responsive) và dễ sử dụng.

### Khái niệm cơ bản
- **Phương thức hành động (Action Method)**: Một phương thức trong bộ điều khiển (controller) được gọi để xử lý yêu cầu và trả về giao diện (view).
- **Giao diện Razor (Razor View)**: File giao diện sử dụng cú pháp Razor để hiển thị dữ liệu động.
- **Mô hình (Model)**: Đại diện cho dữ liệu của danh mục (category), bao gồm tên danh mục (name) và thứ tự hiển thị (display order).
- **Biểu mẫu (Form)**: Cho phép người dùng nhập thông tin danh mục và gửi dữ liệu qua phương thức POST.

### Các bước thực hiện

#### 1. Tạo phương thức hành động (Action Method)
- Thêm phương thức `Create` vào bộ điều khiển danh mục (**Category Controller**).
- Phương thức này trả về một giao diện (view) để tạo danh mục mới.
- Cú pháp cơ bản:
  ```csharp
  public IActionResult Create()
  {
      return View();
  }
  ```
- **Lưu ý**: Tên phương thức (`Create`) phải khớp với tên giao diện (view) được tạo.

#### 2. Tạo giao diện (View)
- **Vị trí**: Tạo file `Create.cshtml` trong thư mục `Views/Category`.
- **Cách tạo nhanh**: Nhấp chuột phải vào phương thức `Create` trong bộ điều khiển, chọn **Add View**, chọn kiểu **Empty Razor View**, đặt tên là `Create`.
- Xóa nội dung mặc định và thêm tiêu đề cơ bản:
  ```html
  <h1>Tạo danh mục</h1>
  ```

#### 3. Liên kết từ trang danh sách (Index View)
- Trong giao diện danh sách (`Index.cshtml`), thêm liên kết để chuyển đến trang tạo danh mục.
- Sử dụng thuộc tính `asp-controller` và `asp-action` để chỉ định bộ điều khiển và phương thức hành động:
  ```html
  <a asp-controller="Category" asp-action="Create">Tạo danh mục mới</a>
  ```
- **Lưu ý**:
  - Có thể bỏ `asp-controller` nếu liên kết nằm trong cùng bộ điều khiển (Category Controller), nhưng nên khai báo rõ ràng để dễ đọc và bảo trì.
  - Viết tên bộ điều khiển trước, sau đó là tên phương thức hành động để tăng tính rõ ràng.

#### 4. Thiết kế giao diện biểu mẫu (Form)
- **Mô hình (Model)**: Sử dụng lớp `Category` làm mô hình cho giao diện. Không cần truyền đối tượng `Category` vào `View()` vì hệ thống sẽ tự tạo một đối tượng mới với giá trị mặc định.
- Thêm biểu mẫu (form) với phương thức POST:
  ```html
  @model Category
  <form method="post">
      <div class="border p-3 mt-4">
          <div class="row pb-2">
              <h2 class="text-primary">Tạo danh mục</h2>
              <hr />
          </div>
          <div class="mb-3">
              <label asp-for="Name">Tên danh mục</label>
              <input asp-for="Name" type="text" class="form-control" />
          </div>
          <div class="mb-3">
              <label asp-for="DisplayOrder">Thứ tự hiển thị</label>
              <input asp-for="DisplayOrder" type="text" class="form-control" />
          </div>
          <div class="row">
              <div class="col-6 col-md-3">
                  <button type="submit" class="btn btn-primary form-control">Tạo</button>
              </div>
              <div class="col-6 col-md-3">
                  <a asp-controller="Category" asp-action="Index" class="btn btn-outline-secondary form-control">Quay lại danh sách</a>
              </div>
          </div>
      </div>
  </form>
  ```
- **Giải thích**:
  - Sử dụng Bootstrap để định dạng giao diện (lớp `border`, `p-3`, `mt-4`, v.v.).
  - Các lớp `col-6 col-md-3` đảm bảo giao diện đáp ứng (responsive), hiển thị 6 cột trên màn hình nhỏ và 3 cột trên màn hình trung bình/lớn.
  - Nút **Tạo** gửi dữ liệu biểu mẫu, trong khi liên kết **Quay lại danh sách** chuyển hướng về trang danh sách danh mục.

#### 5. Tối ưu giao diện đáp ứng
- Sử dụng lớp `row` và `col` của Bootstrap để bố cục linh hoạt.
- Thêm lớp `p-0` hoặc `p-1` để điều chỉnh khoảng cách (padding) giữa các phần tử, đảm bảo giao diện gọn gàng.
- Kiểm tra giao diện trên các kích thước màn hình bằng công cụ phát triển (F12) để đảm bảo tính đáp ứng.

### Ghi chú thêm
- **Khởi động lại ứng dụng**: Mỗi khi thay đổi bộ điều khiển (controller), cần khởi động lại ứng dụng để áp dụng thay đổi.
- **Liên kết chéo**: Có thể sử dụng `[[Danh mục]]` hoặc `[[Bộ điều khiển danh mục]]` để liên kết với các ghi chú liên quan trong Obsidian.
- **Tính rõ ràng**: Luôn khai báo đầy đủ `asp-controller` và `asp-action` để dễ bảo trì, đặc biệt trong dự án lớn với nhiều bộ điều khiển.

### Ví dụ
- Khi người dùng nhấp vào **Tạo danh mục mới** từ trang danh sách, ứng dụng sẽ chuyển đến trang `/Category/Create`, hiển thị biểu mẫu với hai trường nhập (tên danh mục và thứ tự hiển thị) và hai nút (Tạo và Quay lại danh sách).
- Giao diện đáp ứng đảm bảo hiển thị tốt trên cả máy tính và thiết bị di động.

> **Lưu ý**: Tiếp tục phát triển biểu mẫu để xử lý dữ liệu gửi đi (POST) và lưu danh mục vào cơ sở dữ liệu trong các bước tiếp theo. Xem thêm `[[Xử lý biểu mẫu POST]]` hoặc `[[Lưu dữ liệu danh mục]]` để tìm hiểu chi tiết.