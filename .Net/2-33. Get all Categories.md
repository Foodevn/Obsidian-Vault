Đây là nội dung ghi chú học tập từ transcript về cách truy xuất và hiển thị dữ liệu từ database trong ASP.NET Core:

## Truy xuất và hiển thị dữ liệu từ database

### Khái niệm cơ bản
- Để hiển thị dữ liệu trong [[view]], cần truy xuất dữ liệu từ [[controller]] trước
- Controller sẽ truyền dữ liệu cho view để hiển thị trong UI
- Sử dụng [[Entity Framework Core]] để thao tác với database

### Dependency Injection trong .NET Core

#### So sánh với .NET truyền thống
- **.NET truyền thống**: Phải tạo object DB context thủ công
  - Tạo object: `var db = new ApplicationDbContext()`
  - Phải tự quản lý mở/đóng kết nối

#### .NET Core với Dependency Injection
- Đã đăng ký `ApplicationDbContext` trong services container
- Framework tự động cung cấp implementation khi cần
- Không cần tự tạo object hay quản lý kết nối

### Cách triển khai trong Controller

#### Thiết lập Dependency Injection
```csharp
public class CategoryController : Controller
{
    private readonly ApplicationDbContext _db;
    
    public CategoryController(ApplicationDbContext db)
    {
        _db = db;
    }
}
```

#### Truy xuất dữ liệu từ database
```csharp
public IActionResult Index()
{
    // Cách 1: Sử dụng var
    var objCategoryList = _db.Categories.ToList();
    
    // Cách 2: Khai báo rõ ràng type (được khuyến nghị)
    List<Category> categoryList = _db.Categories.ToList();
    
    return View();
}
```

### Các bước thực hiện

1. **Khai báo dependency**: Thêm `ApplicationDbContext` vào constructor
2. **Tạo private field**: Lưu trữ DB context instance
3. **Truy xuất dữ liệu**: Sử dụng `_db.Categories.ToList()`
4. **Truyền dữ liệu cho view**: (sẽ thực hiện ở video tiếp theo)

### Ưu điểm của Entity Framework Core
- **Đơn giản**: Chỉ cần 3 từ `_db.Categories.ToList()`
- **Tự động**: Framework tự generate SQL query `SELECT * FROM Categories`
- **Hiệu quả**: Không cần viết SQL thủ công

### Debugging và kiểm tra
- Có thể đặt breakpoint để kiểm tra dữ liệu
- Trong ví dụ: Truy xuất được 3 categories (Action, SciFi, History)
- Dữ liệu được load thành công vào `categoryList`

### Ghi chú thêm
- Các bước tiếp theo sẽ tập trung vào việc truyền dữ liệu từ controller sang [[view]]
- Cần học cách hiển thị danh sách categories trong UI
- [[Dependency Injection]] là một [[design pattern]] quan trọng trong .NET Core

### Liên kết với các khái niệm khác
- [[MVC Pattern]] - Model-View-Controller
- [[Entity Framework Core]] - ORM framework
- [[Database Context]] - Đại diện cho session với database
- [[Services Container]] - Quản lý dependency injection